"use strict";angular.module("ajax.indicator",[]),angular.module("ajax.indicator").service("loadingIndicatorsService",[function(){var n=0,i={};this.showLoadingIndicator=function(n){var r=i[n];r&&angular.forEach(r,function(n){n.show()})},this.hideLoadingIndicator=function(n){var r=i[n];r&&angular.forEach(r,function(n){n.hide()})},this.subscribe=function(r,o,a){var t=i[r];return t||(t=i[r]=[]),n++,t.push({uuid:n,show:o,hide:a}),n},this.unsubscribe=function(n,r){var o=i[n];if(o)for(var a=0;a<o.length;a++)if(o[a].uuid===r){o.splice(a,1);break}}}]),angular.module("ajax.indicator").factory("loadingIndicatorHttpInterceptor",["$q","loadingIndicatorsService",function(n,i){return{request:function(r){return r.loadingIndicatorId&&i.showLoadingIndicator(r.loadingIndicatorId),r||n.when(r)},response:function(r){return r.config.loadingIndicatorId&&i.hideLoadingIndicator(r.config.loadingIndicatorId),r||n.when(r)},responseError:function(i){return i||n.when(i)}}}]),angular.module("ajax.indicator").config(["$httpProvider",function(n){n.interceptors.push("loadingIndicatorHttpInterceptor")}]);